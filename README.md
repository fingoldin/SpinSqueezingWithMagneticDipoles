# Data and analysis code for "Spin Squeezing with Itinerant Magnetic Dipoles"

DOI: https://doi.org/10.1103/shj7-9kb3

Experimental data collected in this work consists primarily of atomic fluorescence images. Our experiment prepares erbium atoms in a single layer of a 3D optical lattice, and imaging is performed by scattering photons on the broad 401 nm transition of erbium. These photons are captured by an EMCCD camera, resulting in raw fluorescence images. We image each relevant atomic spin state separately, one after the other. These fluorescence images are processed into the spin observables that we report in this work's figures.

Simulation data, plotted alongside experimental data in the figures, was generated using a custom implementation of the Discrete Truncated Wigner Approximation (DTWA). It is stored in a binary format in the folder dtwa/, and can be accessed with our analysis code (described below).

 Additional detail is provided in the manuscript, in particular the "Data Processing" section of the Appendices.
 
# Data layout

All data shown in the paper figures, processed into .csv files, are in the folder `final_data/`, within the zip file.

# Analysis layout

The `2024_paper/` folder contains all the code for data analysis and figure generation.

ProcessLogFiles.ipynb processes the raw scan files containing the fluorescence images (not shown, but can be provided on reasonable request) into `data/`. The main analysis is found in Analysis.ipynb. This uses the processed scan data stored in `data/`, computing and saving the dependent variables to be plotted in `final_data/` and producing the figures themselves.

There are also some additional data in `meanfielddata/`, which are used for the mean field shearing plots in Figure 2. There are two datasets: 100 ms evolution time mean-field shearing (experimental data and DTWA), and 1000 ms evolution time mean-field shearing (DTWA only).

Some older mean-field data for the WAHUHA and lattice loss plots in Figure 8 are found in `an_data/`.

The cached DTWA data is found in `dtwa/`. All of this data is generated by, and can be accessed by, the code in `Analysis.ipynb`.

Our implementation of DTWA is included in `dtwa_impl/`. The file `dtwa_module.py` wraps the core implementation in `dtwa_lib.py`.

The final paper figures are in `final_figures/`. These are stored as Inkscape SVGs and also as PDFs.

The `other/` directory contains some additional figure-drawing scripts, for some of the paper figures.
